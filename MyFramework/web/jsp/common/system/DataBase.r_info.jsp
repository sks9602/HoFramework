<%@ page language="java" contentType="text/html;  charset=utf-8" pageEncoding="utf-8" session="true"%><%@ page	import="project.jun.dao.result.HoList"	import="project.jun.util.HoUtil"	import="project.jun.util.HoValidator"	import="project.jun.dao.result.transfigure.HoSetHasMap"%><%@include file="/jsp/common/include/include.jsp"%><%	HoList list = model.getHoList("ds_ColumnList");%><html><head>	<style>	body {scroll=yes; }		.disable {		background-color : #aaaaaa;	}	</style>		<script type="text/javascript">		function fs_save() {		document.infoForm.target="_self";		document.infoForm.submit();	}	</script></head><body>	<h2>테이블 정보</h2>	<table border="1">		<tr>			<td>Table 명 </td><td><%= param.get("table_name") %></td>		</tr>		<% if( list!=null && list.size()>=1 ) { %>		<tr>			<td>Table 주석 </td><td><%= list.getString(0, "TABLE_COMMENTS").replaceAll("[\\*\\/ ]", "") %></td>		</tr>		<tr>			<td>Table ALIAS </td><td><%= list.getString(0, "TABLE_ALIAS") %></td>		</tr>			<tr>			<td>컬럼 수 </td><td><%= list.size() %></td>		</tr>			<% } else { %>		<tr>			<td colspan="2">Table 정보 생성하세요.</td>		</tr>				<% } %>	</table>		<h2>컬럼 정보</h2>	<form name="infoForm" method="post" action="/s/system/dataBase.do">		<input type="hidden" name="table_name" value="<%= param.get("table_name") %>"/>		<input type="hidden" name="p_action_flag" value="r_info"/>		<table border="1">			<tr>				<td>순번</td>				<td>PK순번 </td>				<td>컬럼 명 </td>				<td>컬럼<br/>주석 </td>				<td>데이터<br/>형태 </td>				<td>데이터<br/>길이 </td>				<td>Not<br/>Null</td>				<td>DEFAULT<br/>값</td>				<td>Min Value</td>				<td>Max Value</td>				<td>사용코드</td>				<td>코드용 컬럼(기본값:<br/>HO_T_SYS_CODE.CD)</td>				<td>SUB-QUERY</td>			</tr>			<% for( int i=0; list!=null && i<list.size(); i++ ) { %>			<tr>				<td><%= i+1 %>					<input type="hidden" name="column_name" value="<%= param.get("COLUMN_NAME") %>"/>				</td>				<td><%= list.getString(i, "PK_IDX") %></td>				<td><%= list.getString(i, "COLUMN_NAME") %></td>				<td><%= list.getString(i, "COLUMN_COMMENTS_O") %></td>				<td><%= list.getString(i, "DATA_TYPE") %></td>				<td><%= list.getString(i, "DATA_LENGTH") %></td>				<td><%= list.getString(i, "NOTNULL_YN") %></td>				<td><%= list.getString(i, "DATA_DEFAULT") %></td>				<td <%=  "NUMBER".equals(list.getString(i, "DATA_TYPE")) ? "" : "class=\"disable\"" %>><input type="<%=  "NUMBER".equals(list.getString(i, "DATA_TYPE")) ? "text" : "hidden" %>" name="min_value" size="7" value="<%= list.getString(i, "MIN_VALUE") %>" /></td>				<td <%=  "NUMBER".equals(list.getString(i, "DATA_TYPE")) ? "" : "class=\"disable\"" %>><input type="<%=  "NUMBER".equals(list.getString(i, "DATA_TYPE")) ? "text" : "hidden" %>" name="max_value" size="7" value="<%= list.getString(i, "MAX_VALUE") %>" /></td>				<td	<%=  disabledTextCss(list.toHoMap(i)) %>><input type="<%=  disabledTextType(list.toHoMap(i)) %>" name="code" size="7" value="<%= list.getString(i, "CODE") %>"  /></td>				<td	<%=  disabledTextCss(list.toHoMap(i)) %>><input type="<%=  disabledTextType(list.toHoMap(i)) %>" name="code_column" size="10" value="<%= list.getString(i, "CODE_COLUMN") %>"  /></td>				<td	<%=  disabledTextCss(list.toHoMap(i)) %>><input type="<%=  disabledTextType(list.toHoMap(i)) %>" name="sub_query" size="25" value="<%= list.getString(i, "SUB_QUERY") %>"  /></td>			</tr>			<% } %>		</table>		<input type="button" value="정보 저장" onclick="fs_save();"></input>	</form></body></html><%!	public String disabledTextType(HoMap data) {		String str = "text";				if(data.getString("DATA_TYPE").indexOf("CHAR") < 0 || data.getString("COLUMN_NAME").equals("REGI_NO") || data.getString("COLUMN_NAME").equals("MODI_NO") || data.getInt( "DATA_LENGTH") > 20  || (!data.getString( "COLUMN_NAME").endsWith("CD") && !data.getString( "COLUMN_NAME").endsWith("ID") ) ) {			str = "hidden";		} 						return str;	}	public String disabledTextCss(HoMap data) {		String str = "";				if(data.getString("DATA_TYPE").indexOf("CHAR") < 0 || data.getString("COLUMN_NAME").equals("REGI_NO") || data.getString("COLUMN_NAME").equals("MODI_NO") || data.getInt( "DATA_LENGTH") > 20 || (!data.getString( "COLUMN_NAME").endsWith("CD") && !data.getString( "COLUMN_NAME").endsWith("ID") )) {			str = "class=\"disable\"";		} 						return str;	}%>